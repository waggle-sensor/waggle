

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Large File Transfer Protocol &mdash; Waggle 0.3 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/table_styling.css" type="text/css" />
  

  
    <link rel="top" title="Waggle 0.3 documentation" href="../index.html"/>
        <link rel="up" title="Waggle Communication Protocol" href="protocol.html"/>
        <link rel="next" title="Waggle Message Types" href="MessageTypes.html"/>
        <link rel="prev" title="Waggle Packet Format" href="PacketFormat.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> Waggle
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../server/server.html">Waggle Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../server/installation.html">Waggle Server Installation and Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../server/installation.html#quick-install">Quick install</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../nodeController/nodeController.html">Node Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guestNode/guestNode.html">Guest Node</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../wagMan/wagMan.html">Waggle System Manager</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../wagMan/POST.html">POST.ino</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wagMan/boot_SOS.html">boot_SOS.ino</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wagMan/boot_gn.html">boot_gn.ino</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wagMan/boot_primary.html">boot_primary.ino</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wagMan/sysmanager.html">sysmanager.ino</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="protocol.html">Waggle Communication Protocol</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="PacketHandler.html">Packet Handler</a><ul>
<li class="toctree-l3"><a class="reference internal" href="PacketHandler.html#module-PacketHandler">PacketHandler Module Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="PacketFormat.html">Waggle Packet Format</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Large File Transfer Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="MessageTypes.html">Waggle Message Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">Waggle Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="gpickler.html">gpickler Module Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="packetmaker.html">Packetmaker Module Functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Waggle</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="protocol.html">Waggle Communication Protocol</a> &raquo;</li>
      
    <li>Large File Transfer Protocol</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/protocol/LargeFile.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="large-file-transfer-protocol">
<h1>Large File Transfer Protocol<a class="headerlink" href="#large-file-transfer-protocol" title="Permalink to this headline">Â¶</a></h1>
<p><strong>NOTE:</strong> This page is a work in progress. Large file transfers are not yet implemented, but
are planned for the very near future!</p>
<p>The transfer of large messages (defined as 1KB or larger in Waggle 0.3) requires a few extra steps
to ensure that the file is received correctly by the intended recipient.</p>
<p>First, you should understand that when Waggle is transferring a large message, the receiver must be
notified of intent to transmit and they must accept the transmission. This is to ensure that the
recipient is not either out of memory or already handling the maximum number of simultaneous large
message tranmissions (which is 256 in Waggle 0.3).</p>
<p>The essential steps to transfer a file are as follows:</p>
<ol class="arabic">
<li><p class="first">The sender sends a message to the reciever with one of the large file major message types containing</p>
<blockquote>
<div><ul class="simple">
<li>The name of the file</li>
<li>The size of the file</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">The reciever looks at the message, and checks the following:</p>
<blockquote>
<div><ul class="simple">
<li>Does the sender have permission to write a file to that location?</li>
<li>Do I have enough space to accept the file?</li>
<li>Am I already accepting 256 transmissions?</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">The node sends back an acknowledgement message containing a single byte representing the transfer
number for the file.</p>
</li>
<li><p class="first">The sender then packetizes the large message and begins sending them to the receiver, setting the
message minor type to the transfer number so that it is correctly assembled at the other side.</p>
</li>
<li><p class="first">The reciever reassembles the packets on the other end to create the original message or file, which
is then processed accordingly.</p>
</li>
</ol>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="MessageTypes.html" class="btn btn-neutral float-right" title="Waggle Message Types" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="PacketFormat.html" class="btn btn-neutral" title="Waggle Packet Format" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Argonne National Laboratory.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>